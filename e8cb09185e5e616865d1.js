"use strict";(self.webpackChunkwebtool_cropper=self.webpackChunkwebtool_cropper||[]).push([[235],{27:(t,e,s)=>{t.exports=s.p+"img/bbba5c1db5c20f8aa84f.png"},235:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});const a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid px-0"},[a("nav",{staticClass:"navbar navbar-dark bg-dark"},[a("div",{staticClass:"navbar-brand d-flex"},[a("div",[t._v("Webtool Cropper")]),a("open-image",{staticClass:"ml-1 mb-0",on:{load:t.loadImg}},[t._v("上傳")])],1)]),a("div",{staticClass:"container-fluid px-0"},[a("button",{staticClass:"btn btn-primary",on:{click:t.crop}},[t._v("裁切")]),a("b-card",{attrs:{"no-body":""}},[a("b-card-body",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("img",{ref:"image",staticClass:"mw-100",attrs:{src:s(27)}})]),a("div",{staticClass:"col-6 d-flex justify-content-center"},[t.outputUrl?a("img",{staticClass:"mw-100 m-auto",attrs:{src:t.outputUrl}}):t._e()])])])],1)],1)])},staticRenderFns:[],components:{OpenImage:{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.id?s("div",{staticClass:"d-inline-block"},[s("input",{staticClass:"d-none",attrs:{id:t.id,type:"file",accept:"image/*"},on:{change:t.parseFile}}),s("label",{staticClass:"btn btn-secondary btn-sm mb-0",attrs:{for:t.id}},[s("b-icon-card-image")],1)]):t._e()},staticRenderFns:[],props:[],data:function(){return{id:""}},created(){this.id=`img-${this._uid}`},mounted(){},methods:{parseFile:function(t){const e=this,s=t.srcElement,a=s.files[0];s.value="";const i=new window.FileReader;i.addEventListener("load",(function(){const t=i.result,s=new window.Image;s.onload=function(){const{width:a,height:i}=this;Object.assign(e,{width:a,height:i,url:t}),e.$emit("load",s,e)},s.src=t}),!1),a&&i.readAsDataURL(a)}}}},data:()=>({outputUrl:"",cropper:null}),async mounted(){s.e(645).then(s.bind(s,645)),this.initCropper()},updated(){},methods:{loadImg(t){this.cropper.destroy(),this.$refs.image.src=t.src,console.log(t.src),this.initCropper()},async initCropper(){const t=(await s.e(129).then(s.t.bind(s,129,19))).default;this.cropper=new t(this.$refs.image,{viewMode:1,minCropBoxWidth:256,minCropBoxHeight:256,aspectRatio:1,crop(t){console.log(t.detail.x),console.log(t.detail.y),console.log(t.detail.width),console.log(t.detail.height),console.log(t.detail.rotate),console.log(t.detail.scaleX),console.log(t.detail.scaleY)}})},crop(){this.outputUrl=this.cropper.getCroppedCanvas().toDataURL("image/png")}}}}}]);